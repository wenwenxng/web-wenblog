# 商城前台接口汇总

###用户模块

- [注册接口](#register)
- [登录接口](#login)
- [登出接口](#logout)
- [修改密码](#update-password)
- [查询个人信息](#query-user-message)
- [注册验证码接口](#v-code)
- [修改密码验证码接口](#v-code-for-update-password)
###文章模块

- [搜索文章](#query-article)  标题
- [文章详情](#query-product-detail) 标题内容作者

### 评论模块



###分类模块

- [一级分类查询](#query-top-category)  
- [二级分类查询](#query-second-category)
- [火热的二级分类查询](#query-hot-second-category)


###购物车

- [添加](#add-cart)  件、尺码   尺码 string 区间 ？
- [修改](#update-cart) 件、尺码
- [删除](#delete-cart) 单删、全删
- [查询](#query-cart) 带产品信息
- [查询带分页](#query-cart-paging) 带产品信息
###收货地址模块  三级联动  要一个树状对象

- [添加](#add-address) 
- [修改](#update-address) 
- [删除](#delete-address) 
- [查询](#query-address) 
- [查询](#query-address-tree) 

#网站前台接口描述信息
## 用户模块
### register 
+ 接口名称
  注册接口
+ 接口地址
  /api/user/register.php
+ 请求方式
    POST
+ 参数说明
参数名称|是否必须|说明
--|--|--
user_name|是|用户名
password|是|用户密码
user_email|是|用户邮箱
vCode|是|验证码
+ 示例
```javascript
{"username":"zhoushugang","password":"123456","mobile":"15111111111","vcode":"5678"}
```
+ 返回说明
参数|说明
--|--
success|注册成功
error|操作失败
+ 示例
```javascript
{"success":true}
{ "error": 401, "message": "验证码错误!" }
{ "error": 403, "message": "用户名未填写！" }
{ "error": 403, "message": "密码未填写！" }
{ "error": 403, "message": "用户名已经存在!!!" }
{ "error": 403, "message": "手机号已注册过!!!" }
{ "error": 403, "message": "数据库异常！" }
```

### login
+ 接口名称
  登录接口
+ 接口地址
   /api/user/login.php
+ 请求方式
    POST
+ 参数说明
参数名称|是否必须|说明
--|--|--
username|是|用户名
password|是|用户密码
+ 示例
```javascript
{"username":"zhoushugang","password":"123456"}
```
+ 返回说明
参数|说明
--|--
success|注册状态
error|操作失败
+ 示例
```javascript
//success
{"success":true}
//error 同上个接口
```

### logout
+ 接口名称
  登出接口
+ 接口地址
  /api/user/logout.php
+ 请求方式
  GET
+ 参数说明
  无
+ 返回说明
参数|说明
--|--
success|注册状态
error|操作失败
+ 示例
```javascript
//success
{"success":true}
//error 同上个接口
```



### update-password

+ 接口名称
  修改密码 （需要登录）
+ 接口地址
  /api/user/updatePassword.php
+ 请求方式
  POST
+ 参数说明
参数名称|是否必须|说明
--|--|--
oldPassword|是|用户密码
newPassword|是|用户密码
+ 示例

```javascript
{"oldPassword":"123456","newPassword":"456789"}
```
+ 返回说明
参数|说明
--|--
success|注册状态
error|操作失败
+ 示例
```javascript
//success
{"success":true}
//error 同上个接口
```
### query-user-message
+ 接口名称
  查询个人信息 （需要登录）
+ 接口地址
  /api/user/queryUserMessage.php
+ 请求方式
  GET
+ 参数说明
+ 返回说明
参数|说明
--|--
success|注册状态
error|操作失败
+ 示例
```javascript
{
    "user_id": "1",
    "user_name": "FantJ",
    "user_email": "xxx",
    "user_sex": "男",
    "user_phone": "123123123",
    "user_status": "1",
    "user_ex": "1",
    "user_time": "2018-03-23 11:20:46",
    "user_show": "这是我的个性签名",
    "user_blog": "www.baidu.com",
    "user_img": "https://4f95-8639-e69e8c636570?imageMogr2/auto-orient/strip|imageView2/1/w/240/h/240",
    "user_fans": "9999",
    "user_concern": "9999"
}
```
### update-user-message

- 接口名称
  查询个人信息 （需要登录）
- 接口地址
  /api/user/updateUserMessage.php
- 请求方式
  post
- 参数说明

| 参数       | 必须 | 说明         |
| ---------- | ---- | ------------ |
| user_name  | 是   | 用户名  不能 |
| user_sex   | 是   | 性别         |
| user_phone | 否   | 手机         |
| user_show  | 否   | 用户个性签名 |
| user_blog  | 否   | 用户主页     |
| user_img   | 否   | 用户头像     |

```
{success:true}
```



- 返回说明

| 参数    | 说明     |
| ------- | -------- |
| success | 注册状态 |
| error   | 操作失败 |

- 示例

```javascript
//success
{success:true}
//error 同上个接口
```

### 

### v-code

+ 接口名称
  获取注册/登陆验证码

+ 接口地址
  /api/common/vcode.php

+ 请求方式
  GET

+ 参数说明

+ 返回说明

  返回张图片
### 
## 文章板块

###query-article

- 接口名称
  获取文章

- 接口地址
  /api/article/queryArticle.php

- 请求方式
  GET

- 参数说明

  | 参数名称        | 是否必须 | 说明                |
  | --------------- | -------- | ------------------- |
  | art_type_id     | 否       | 一级分类id,默认全选 |
  | art_category_id | 否       | 二级分类id,默认全选 |
  | page            | 是       | 第几页              |
  | pageSize        | 是       | 每页的条数          |

- 返回说明

  ```
  [{art_id,art_title	
  1,第一篇文章}]
  ```

### query-article-detail

- 接口名称
  获取文章详情
- 接口地址
  /api/article/queryArticleDetail.php
- 请求方式
  GET
- 参数说明

| 参数名称 | 是否必须 | 说明   |
| -------- | -------- | ------ |
| art_id   | 是       | 文章id |

- 返回说明

  ```
  {
      "art_id": "1",
      "art_user_id": "1",
      "art_title": "第一篇文章",
      "art_type_id": "1",
      "art_content": "这里是内容",
      "art_comment_id": "1",
      "art_cre_time": "2018-03-23 11:26:29",
      "art_view": "999",
      "art_com_num": "9",
      "art_hot_num": "9",
      "art_like_num": "9",
      "state": "1",
      "art_category_id": "1"
  }
  ```

### add-article

- 接口名称
  发表文章
- 接口地址
  /api/article/addArticle.php
- 请求方式
  post
- 参数说明

| 参数名称        | 是否必须 | 说明     |
| --------------- | -------- | -------- |
| art_title       | 是       | 标题     |
| art_type_id     | 是       | 大类     |
| art_category_id | 是       | 二级分类 |
| art_content     | 是       | 文章内容 |

- 返回说明

  ```
  {success:true}
  ```

###edit-article

- 接口名称
  发表文章
- 接口地址
  /api/article/editArticle.php
- 请求方式
  post
- 参数说明

| 参数名称        | 是否必须 | 说明     |
| --------------- | -------- | -------- |
| art_title       | 是       | 标题     |
| art_type_id     | 是       | 大类     |
| art_category_id | 是       | 二级分类 |
| art_content     | 是       | 文章内容 |

- 返回说明

  ```
  {success:true}
  ```

##  



##评论模块

### query-comments

- 接口名称
  获取评论内容
- 接口地址
  /api/comments/queryComments.php
- 请求方式
  GET
- 参数说明



| 参数名称 | 是否必须 | 说明       |
| -------- | -------- | ---------- |
| art_id   | 是       | 文章id     |
| page     | 是       | 第几页     |
| pageSize | 是       | 每页的条数 |

- 返回说明

```
[
page: 1,
  size: 10,
  count:25,
data:{com_id	com_content	com_art_id	com_user_id	com_time multiarr
1	评论正文	1	1	2018-03-23 12:24:06 [{},{},{}]}
]
```

### query-second-comments

- 接口名称
  获取评论内容
- 接口地址
  /api/comments/querySecondComments.php
- 请求方式
  GET
- 参数说明



| 参数名称 | 是否必须 | 说明       |
| -------- | -------- | ---------- |
| com_id   | 是       | 评论id     |
| page     | 是       | 第几页     |
| pageSize | 是       | 每页的条数 |

- 返回说明,会有三个评论的偏移

```
[
    {
        "com_multi_id": "5",
        "com_id": "1",
        "com_parent_multi_id": null,
        "com_multi_content": "变态吗",
        "com_multi_user_id": "27",
        "com_multi_time": "2018-03-23 12:24:22"
    },
    {
        "com_multi_id": "6",
        "com_id": "1",
        "com_parent_multi_id": null,
        "com_multi_content": "简直太可怕啦",
        "com_multi_user_id": "27",
        "com_multi_time": "2018-03-23 12:24:22"
    },
    {
        "com_multi_id": "8",
        "com_id": "1",
        "com_parent_multi_id": "4",
        "com_multi_content": "闹心啊,兄弟,我都累死了",
        "com_multi_user_id": "29",
        "com_multi_time": "2019-07-16 18:22:39"
    }
]
```



### add-comments

- 接口名称
  添加评论 （需要登录）
- 接口地址
  /api/comments/addComments.php
- 请求方式
  Post
- 参数说明



| 参数名称 | 是否必须 | 说明     |
| -------- | -------- | -------- |
| art_id   | 是       | 文章id   |
| content  | 是       | 评论内容 |

- 返回说明

```
[
    {com_id	com_content	com_art_id	com_user_id	com_time
1	评论正文	1	1	2018-03-23 12:24:06}
]
```



### add-second-comments

- 接口名称
  获取修改密码验证码 （需要登录）
- 接口地址
  /api/comments/addSecondComments.php
- 请求方式
  Post
- 参数说明

| 参数名称            | 是否必须 | 说明                 |
| ------------------- | -------- | -------------------- |
| com_id              | 是       | 评论id               |
| com_multi_content   | 是       | 评论内容             |
| com_parent_multi_id | 可选     | 二级评论里面的父内容 |

- 返回说明

```
[
    {com_id	com_content	com_art_id	com_user_id	com_time
1	评论正文	1	1	2018-03-23 12:24:06}
]
```

## 分类模块

### query-type

- 接口名称
  一级分类查询
- 接口地址
  /api/category/queryType.php
- 请求方式
  GET
- 参数说明
  参数名称|是否必须|说明
  --|--|--
- 返回说明
  参数|说明
  --|--
- 示例

```javascript
[
  {
   type_id	
   type_name
   type_create_time
  }
]
```



### query-category

- 接口名称
  二级分类查询
- 接口地址
  /api/category/queryCategory.php
- 请求方式
  GET
- 参数说明

| 参数名称 | 是否必须 | 说明       |
| -------- | -------- | ---------- |
| type_id  | 是       | 一级分类id |

- 返回说明
  参数|说明
  --|--
- 示例

```javascript
[
  {
   categoryId
   type_create_time
  },
]
```

##收藏模块

###query-collect

- 接口名称
  查看收藏夹(需要登录)

- 接口地址
  /api/collect/queryCollect.php

- 请求方式
  GET

- 参数说明

  | 参数     | 必须 | 说明     |
  | -------- | ---- | -------- |
  | page     | 是   | 页码     |
  | pageSize | 是   | 一页大小 |

  

- 返回说明
  参数|说明
  --|--
- 示例

```javascript
[
    {
        col_art_id
        title
    },
]
```





### add-collect

- 接口名称
  添加收藏夹
- 接口地址
  /api/collect/addCollect.php
- 请求方式
  post
- 参数说明

| 参数名称   | 是否必须 | 说明         |
| ---------- | -------- | ------------ |
| col_art_id | 是       | 添加的文章id |

- 返回说明
  参数|说明
  --|--
- 示例

```javascript
{ "success": true }
```



### delete-collect

- 接口名称
  添加收藏夹
- 接口地址
  /api/collect/deleteCollect.php
- 请求方式
  post
- 参数说明

| 参数名称 | 是否必须 | 说明   |
| -------- | -------- | ------ |
| col_id   | 是       | 收藏id |

- 返回说明
  参数|说明
  --|--
- 示例

```javascript
{ "success": true }
```

## 关注模块

### query-attention

- 接口名称
  添加收藏夹
- 接口地址
  /api/attention/queryAttention.php
- 请求方式
  get
- 参数说明

| 参数     | 必须 | 说明     |
| -------- | ---- | -------- |
| page     | 是   | 页数     |
| pageSize | 是   | 一页大小 |



- 返回说明
  参数|说明
  --|--
- 示例

```javascript
[
    {att_id	att_author_id(obj)},
    {att_id	att_author_id(obj)},
    {att_id	att_author_id(obj)},
    {att_id	att_author_id(obj)},
]
```

### query-fans

- 接口名称
  添加收藏夹
- 接口地址
  /api/attention/queryFans.php
- 请求方式
  get
- 参数说明

| 参数     | 必须 | 说明     |
| -------- | ---- | -------- |
| page     | 是   | 页数     |
| pageSize | 是   | 一页大小 |



- 返回说明
  参数|说明
  --|--
- 示例

```javascript
[
    {att_id	att_author_id(obj)},
    {att_id	att_author_id(obj)},
    {att_id	att_author_id(obj)},
    {att_id	att_author_id(obj)},
]
```



### add-attention

- 接口名称
  查询关注信息 （需要登录）
- 接口地址
  /api/attention/addAttention.php
- 请求方式
  post
- 参数说明

| 参数          | 说明       |
| ------------- | ---------- |
| att_author_id | 关注人的id |



```
{success:true}会自动更新user的关注和粉丝
```



- 返回说明

| 参数    | 说明     |
| ------- | -------- |
| success | 注册状态 |
| error   | 操作失败 |

- 示例

```javascript
//success
{success:true}
//error 同上个接口
```

###  remove-attention

- 接口名称
  查询关注信息 （需要登录）
- 接口地址
  /api/attention/removeAttention.php
- 请求方式
  post
- 参数说明

| 参数          | 说明         |
| ------------- | ------------ |
| att_author_id | 取消关注的人 |





```
{success:true}会自动更新user的关注和粉丝
```



- 返回说明

| 参数    | 说明     |
| ------- | -------- |
| success | 注册状态 |
| error   | 操作失败 |

- 示例

```javascript
//success
{success:true}
//error 同上个接口
```

###  



